package com.emaginalabs.plugins;import org.apache.maven.model.Plugin;import org.apache.maven.plugin.AbstractMojo;import org.apache.maven.plugin.MojoExecutionException;import org.apache.maven.plugins.annotations.Component;import org.apache.maven.plugins.annotations.Execute;import org.apache.maven.plugins.annotations.LifecyclePhase;import org.apache.maven.plugins.annotations.Mojo;import org.apache.maven.project.MavenProject;import java.util.Iterator;import java.util.List;@Mojo( name = "mail", requiresProject = false)@Execute(phase= LifecyclePhase.POST_INTEGRATION_TEST)public class EmailMojo extends AbstractMojo {    public static final String MAIL_MAVEN_PUGLIN_NAME = "mail-maven-plugin";    @Component    private MavenProject project;    public void execute() throws MojoExecutionException {        // get all the build plugins associated with the        // project under the build.        List<Plugin> plugins = project.getBuildPlugins();        if (plugins != null && plugins.size() > 0) {            for (Iterator<Plugin> iterator = plugins.iterator();                 iterator.hasNext(); ) {                Plugin plugin = iterator.next();                // iterate till we find mail-maven-plugin.                if (MAIL_MAVEN_PUGLIN_NAME.equals(plugin.getArtifactId())) {                    getLog().info(plugin.getConfiguration().toString());                    getLog().info("Sending Emailâ€¦");                    break;                }            }        }    }}